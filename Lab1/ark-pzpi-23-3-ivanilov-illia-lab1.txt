ХАРКІВСЬКИЙ НАЦІОНАЛЬНИЙ
УНІВЕРСИТЕТ РАДІОЕЛЕКТРОНІКИ
 
Кафедра «Програмної інженерії»
 
 




ЗВІТ
з лабораторної роботи № 1
з дисципліни «Аналіз та рефакторинг коду»
 



 










Виконав:                                                                       ст. викладач кафедри ПІ:
ст. гр. ПЗПІ-23-3                                                                Сокорчук Ігор Петрович
Іванілов І. В.











Харків 2025








1 ІСТОРІЯ ЗМІН
Таблиця 1.1 - Історія змін
№
	Дата
	Версія звіту
	Опис змін та виправлень
	1
	03.12.2025
	0.1
	Створено звіт
	2 ЗАВДАННЯ
– потрібно описати  проект у форматі Vision & Scope згідно такої структури: 
1.1 - аналіз проблеми, яку вирішує програмна система;
1.2 - аналіз аналогів;
2.1 - опис призначення системи;
2.2 - опис бізнес логіки системи;
3.1 - опис функціональності серверної частини та ІоТ клієнта;
3.2 - опис функціональності веб клієнта та мобільного клієнта;
4.3 - опис програмних засобів та програмних інструментів, які будуть використані 
3 ОПИС ВИКОНАНОЇ РОБОТИ
У межах проєкту було сформовано повний пакет бізнес-вимог та описано роботу всієї системи контролю споживання води. Основні результати:
1. Аналіз проблеми та аналогів:
– Визначено ключові проблеми: ручний облік, неточність даних, відсутність адаптивного графіка.
– Проаналізовано мобільні трекери та розумні пляшки, виявлено їхні недоліки.
– Сформульовано, чим система буде кращою: автоматизація, персоналізація, поведінкові рекомендації.
2. Бачення рішення:
– Описано призначення системи: автоматичний контроль споживання води та формування персонального графіка.
– Визначено цінність для користувача: прогрес, рекомендації, динамічний план, мінімум ручних дій.
3. Бізнес-логіка:
– Розроблено щоденний цикл: розрахунок норми, збір даних IoT-клієнтом, коригування графіка, сповіщення, підсумок дня.
– Визначено поведінкові сценарії та алгоритми рекомендацій.
4. Функціональність серверної частини:
– Описано аналітику, керування користувачами, обробку даних, резервування та інтернаціоналізацію.
– Визначено роль сервера як основного центру обробки та логіки.
5. IoT-клієнт:
– Описано збір і передачу даних, базові локальні функції та принципи роботи як «розумного стакана».
6. Веб- та мобільний клієнти:
– Веб-клієнт: перегляд графіка, рекомендацій, історії, профіль, адмін-функції.
– Мобільний клієнт: прогрес, сповіщення та швидкий доступ до основних параметрів.
7. Технологічний стек:
– Обрано стек: NestJS, Next.js, React Native, PostgreSQL, REST API, Docker, Git.
4 ВИСНОВКИ
Було проаналізовано проблему контролю споживання води та існуючі аналоги. Сформовано бізнес-вимоги і бачення системи, описано бізнес-логіку, роботу серверної частини, IoT-клієнта, веб- і мобільного застосунку. Визначено ключові функції, взаємодію компонентів і технологічний стек. У результаті створено повну основу для подальшого проектування та розробки системи.
ДОДАТОК А
Відеозапис
        Відеозапис презентації результатів лабораторної роботи: https://youtu.be/v3zjqSocaME
00:00 Представлення
00:17 Аналіз бізнес-вимог
01:08 Аналіз аналогів
02:04 Концепція рішення
02:43 Опис бізнес-логіки
04:42 Функціонал серверної частини
05:55 Функціонал IoT-клієнту
06:23 Функціонал веб та мобільного клієнтів
08:25 Опис програмних засобів та інструментів






ДОДАТОК Б
Vision&Scope Document


Vision and Scope Document
for
<Система для відстеження щоденного вживання води>
Version 1.0 approved
Prepared by Ivanilov Illia
<KNURE>
<01.12.2025>


Table of Contents


Table of Contents        ii
Revision History        ii
1.        Business Requirements        1
1.1.        Background        1
1.2.        Business Opportunity        1
2.        Vision of the Solution        2
2.1.        Vision Statement        2
2.2.        Major Features        2
3.        Scope and Limitations        2
3.1.        Scope of Initial Release        2
3.2.        Scope of Subsequent Releases        2
4.        Business Context        3
4.1.        Stakeholder Profiles        3








Revision History




Name
	Date
	Reason For Changes
	Version
	Start
	01.12.2025
	–
	1.0
	

	

	

	

	

1. Бізнес-Вимоги
   1. Аналіз проблеми
Люди часто не контролюють споживання води. Багато хто забуває пити вчасно. Це призводить до зневоднення і втрати концентрації протягом дня. Користувачам складно відстежувати реальний обсяг випитої води. Звичайні трекери не дають корисної динаміки і не враховують особисті фактори.
Поточні застосунки працюють як щоденник. Ви вводите дані вручну. Такий підхід втомлює та не дає точності. Користувачі перестають вести записи через кілька днів.
Система вирішує цю проблему за рахунок автоматизації. Віртуальний IoT-клієнт фіксує обсяг води без участі користувача. Серверна частина аналізує дані, складає графік, дає поради і нагадування. Це прибирає ручний облік. Ви отримуєте персональні рекомендації на основі ваших звичок, активності і температури дня.
Поточні рішення не формують адаптивний графік. Вони не реагують на ваші фактичні прийоми води. Вони не попереджають про ризики. Система закриває цю потребу і створює реальну цінність для користувача, який хоче тримати стабільну гідратацію.
   2. Аналіз Аналогів
На ринку вже є два основні типи рішень
– мобільні застосунки для відстеження води
– “розумні” пляшки та чашки з сенсорами


1) Мобільні застосунки
Приклади:
– WaterMinder. Дозволяє задати ціль, вручну логувати прийоми води, бачити статистику, отримувати нагадування. waterminder.com
– Plant Nanny. Поєднує трекер води з елементами гри. Ви “поливаєте” рослину, коли п’єте воду. Google Play
– MyFitnessPal та подібні фітнес застосунки. Мають модуль для фіксації споживання води разом з харчуванням. sundialapartmenthomes.com
Типові недоліки:
– ручне введення кожного стакана;
– нагадування орієнтуються на час, а не на реальну поведінку;
– розрахунок норми спрощений, часто тільки за вагою;
– відсутність гнучкого графіка, що підлаштовується під фактичні прийоми;
– немає інтеграції з реальним або віртуальним пристроєм, який вимірює об’єм;
2) “Розумні” пляшки та чашки
Приклади:
– HidrateSpark. Пляшка з сенсором ваги, що відстежує кожен ковток, синхронізується з застосунком і подає світлові та звукові сигнали, коли потрібно пити воду. HidrateSpark
– Інші smart чашки, наприклад Ozmo. Вони вимірюють об’єм напою, передають дані у застосунок через Bluetooth. techinasia.com
Типові недоліки:
– фокус на “залишайся зволоженим”, але без глибокої аналітики поведінки
– нагадування переважно за розкладом, а не з урахуванням реального відставання від норми
– формула норми часто не враховує клімат, рівень активності, персональні цілі
– рекомендації обмежуються загальними фразами, без аналізу патернів (великі порції, довгі паузи, пікові навантаження тощо)
Як нова система покращує ситуацію:
1) Глибша персоналізація:
Норма води розраховується з урахуванням ваги, активності, температури дня і цілей користувача. Застосунки аналогів часто обмежуються тільки вагою або загальними рекомендаціями.
2) Динамічний графік, а не просто нагадування:
Сервер формує погодинний графік з рекомендованими порціями і інтервалами. Далі графік коригується в залежності від фактичних прийомів води і відставання від норми. Більшість аналогів не змінюють план протягом дня.
3) Поведінкові рекомендації:
Система аналізує, як ви п’єте:
– занадто рідко;
– занадто великими порціями
– з великими паузами
– ривками в кінці дня
На основі цього формує конкретні поради щодо розміру порцій, частоти та вирівнювання графіка. Аналоги зазвичай показують тільки відсоток від норми.


2. Концепція рішення
2.1 Опис призначення системи
Система допомагає користувачу контролювати споживання води протягом дня, автоматизуючи облік кожного прийому води і формування персонального графіку. Користувач отримує точні рекомендації та сповіщення, які враховують його поведінку, вагу, активність і температуру дня.
Система збирає дані з віртуального IoT клієнта. Сервер аналізує темп споживання і попереджає про відставання від норми. Користувач бачить свій прогрес у зрозумілому вигляді.
Цінність для користувача:
– автоматичний облік води;
– персональний добовий план;
– поради на основі фактичної поведінки;
– зменшення ризику зневоднення;
– стабільний режим гідратації;
– простий контроль без зайвих дій.
Система дає користувачу чітке розуміння свого режиму і допомагає підтримувати здорові звички.
2.2 Опис бізнес-логіки
Бізнес логіка описує послідовність дій, які виконує користувач і які обробляє система. Система працює як автоматизований цикл збору, аналізу та рекомендацій. Усі бізнес-процеси побудовані навколо щоденного плану споживання води.
1) Початкове налаштування:
Користувач вводить свої дані: вага, рівень активності, цілі (здоров'я, спорт, стабілізація режиму), бажаний час пробудження і сну і т.д. Сервер розраховує добову норму і створює базовий графік. План містить рекомендовані порції та інтервали.



2) Щоденний цикл роботи
IoT-клієнт фіксує кожен прийом води. Користувач не вводить дані вручну. Дані потрапляють на сервер у режимі реального часу. Сервер оновлює: загальний обсяг за день, залишок від плану, швидкість споживання, відставання чи випередження графіка
Система коригує графік протягом дня. Якщо користувач відстає, порції зменшуються і стають частішими. Якщо випереджає — графік вирівнюється.
3) Сповіщення і підказки
Система відправляє нагадування, коли:
– користувач пропустив рекомендований інтервал
– є сильне відставання від добової норми
– потрібно випити невелику порцію для вирівнювання графіка
– користувач п'є великими ривками
Сповіщення завжди базуються на фактичній поведінці, а не на жорсткому розкладі.
На основі цього система формує поради:
– пийте частіше меншими порціями
– уникайте великих пауз
– розподіляйте воду рівномірно
4) Користувацькі дії протягом дня
Користувач: переглядає прогрес, дивиться рекомендації, може вручну відредагувати ціль або дані про активність, реагує на сповіщення
Користувач не займається обліком і його дії мінімальні. Після 24 годин система: підбиває підсумки, формує динаміку, аналізує порушення графіка, оновлює персональний профіль користувача.
Поради на наступний день враховують попередню поведінку. Бізнес процес охоплює введення даних, автоматичний збір показників через IoT клієнт, аналіз, сповіщення та рекомендації. Користувач взаємодіє тільки з простими діями, уся складна логіка знаходиться на сервері.
3.1 Опис функціональності серверної частини та IoT-клієнта
Система складається з двох основних компонентів: серверної частини та IoT-клієнта. Вони працюють як єдина платформа збору даних, аналізу, управління користувачами та забезпечення безпеки.
Функціональність серверної частини:
Сервер відповідає за весь бізнес-процес, обробку даних, безпеку й адміністрування.
1) Обробка даних та аналітика
Сервер:
– приймає дані про кожен прийом води
– розраховує добову норму
– формує базовий і динамічний графік
– аналізує темп споживання
– визначає ризики (відставання, великі паузи, ривки, великі порції)
– формує персональні рекомендації
– надсилає сповіщення у режимі реального часу
2) Управління користувачами
Сервер надає інструменти адміністрування:
– створення та керування користувачами
– зміна ролей і доступів
– управління профілями
– блокування або видалення облікових записів
– аудит активності
3) Міжнародна підтримка (інтернаціоналізація)
Сервер працює з глобальними налаштуваннями:
– підтримка різних мовних пакетів
– правильна обробка дат, часу, форматів чисел
– локальний та універсальний час (UTC)
– підтримка метричної та імперської системи вимірювань
– сортування тексту за мовними правилами
– підтримка тексту з різним напрямом введення
Функціональність IoT-клієнта:
IoT-клієнт працює як “розумний стакан” або віртуальний пристрій. Його завдання — фіксувати об’єм та передавати дані.
1) Збір даних
IoT-клієнт:
– вимірює обсяг води в реальному часі
– фіксує кожну порцію
– визначає час прийому
– формує пакет даних для сервера
2) Передача даних
Клієнт надсилає дані на сервер:
– у реальному часі або з буферизацією
– з повторною відправкою у разі втрати з’єднання
– з використанням захищеного каналу
3) Відображення базової інформації
Пристрій може показувати:
– статус підключення
– підтвердження надсилання даних
– прості сигнали (наприклад, світлове нагадування)
3.2 Опис функціональності веб-клієнта та мобільного клієнта
Веб-клієнт і мобільний клієнт забезпечують роботу з даними, керування профілем, перегляд аналітики та взаємодію із сервером. Усі дані передаються через захищений API.
Веб-інтерфейс має дві ролі: панель користувача та адміністративна панель.
1) Функції для користувача
Веб-клієнт дозволяє:
– переглядати щоденний графік
– бачити поточний прогрес
– переглядати рекомендації
– аналізувати історію споживання
– редагувати параметри профілю (вага, активність, цілі, година сну/пробудження)
– переглядати динаміку за тиждень і місяць
Веб-клієнт отримує всі дані від сервера через REST або WebSocket. Дані оновлюються у реальному часі.

2) Адміністрування системи
Адмін-панель у веб-клієнті забезпечує:
– управління користувачами
– зміну ролей і прав доступу
– перегляд журналу подій та логів
– управління налаштуваннями системи
– контроль локалізації та мовних пакетів.
Мобільний клієнт зосереджений на щоденному використанні. Він дає користувачу швидкий доступ до ключових показників і не потребує складних налаштувань. Основна логіка проста: показати прогрес, нагадати пити воду і відобразити рекомендації.
Мінімальний набір можливостей включає:
– перегляд щоденного прогресу та залишку до норми
– отримання сповіщень про прийом води
– відображення актуальних рекомендацій
– доступ до базових параметрів профілю (вага, активність, час пробудження)
– автоматичну синхронізацію з сервером
Це дозволяє користувачу виконувати головне завдання — підтримувати рівномірну гідратацію протягом дня, не відкриваючи веб-версію. Усі розширені налаштування, адмінка та поглиблена аналітика залишаються у веб-клієнті.
Взаємодія веб-клієнта та мобільного клієнта із сервером
Веб-клієнт і мобільний клієнт працюють через єдиний сервер, який виступає центральною точкою зберігання, обробки та розповсюдження даних.
        Веб-клієнт надсилає на сервер запити, пов’язані з управлінням профілем, переглядом статистики, роботою з графіками та аналітикою. Адміністративна частина веб-інтерфейсу використовує ті самі API, але з розширеними правами. Сервер перевіряє права доступу, виконує необхідні операції та повертає структуровані дані у відповідь. Завдяки цьому веб-інтерфейс отримує повний набір можливостей: від зміни налаштувань до управління користувачами та системними конфігураціями.
        Мобільний клієнт працює простіше. Він передає мінімальну кількість даних: поточні параметри користувача, оновлення профілю та запити статистики за день. Мобільний клієнт очікує швидкі відповіді — прогрес, залишок до норми, рекомендації. Коли IoT-клієнт надсилає новий прийом води, сервер обробляє подію, оновлює графік і надсилає мобільному застосунку сповіщення.
Обидва клієнти працюють на підставі однакових принципів:
– передають дані у захищеному каналі
– отримують валідні, структуровані відповіді
– використовують профіль користувача, який зберігається на сервері
– синхронізують зміни в режимі реального часу.
4.3 Опис програмних засобів та інструментів
Система будується на сучасних веб-технологіях та інструментах, які забезпечують надійність, масштабованість і зручність розробки. Основою серверної частини є TypeScript середовище Node.js з використанням одного з поширених фреймворків, NestJS. Це дає чітку структуру, модульність і швидку інтеграцію з IoT-клієнтами.
Для веб-клієнта застосовується Next.js, що дозволяє створити динамічний інтерфейс, працювати з API і легко масштабувати UI. Мобільний клієнт може бути реалізований на React Native, щоб забезпечити кросплатформність і швидкий цикл розробки.
        Усі компоненти взаємодіють через REST API. Дані зберігаються в реляційній або NoSQL-базі, залежно від архітектурних вимог. Для зберігання профілів, статистики та історичних даних підійдуть PostgreSQL.
        Для роботи з кодом використовується система управління версіями Git. Розробка ведеться у GitHub.
Технологічний стек включає:
– Node.js, TypeScript, NestJS
– Next.js
– React Native (мобільний клієнт)
– PostgreSQL
– REST API
– Git, GitHub
– Docker для розгортання середовищ
Розробка виконується у сучасних середовищах, таких як Visual Studio Code. Це забезпечує стабільні інструменти для дебагу, тестування та інтеграції з репозиторієм.